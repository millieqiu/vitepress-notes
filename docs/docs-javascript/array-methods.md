# Array Methods

## åŸºæœ¬æ–¹æ³•

ä»‹ç´¹ `Array.push()`ã€`Array.pop()`ã€`Array.shift()`ã€`Array.unshift()`ã€‚

- [ ] <mark>TODO: å¾…è£œå……</mark>

## å€‹äººå¸¸ç”¨æ–¹æ³•

### â—¾ `slice()`

slice åœ¨è‹±æ–‡è£¡æœ¬èº«å°±å¸¶æœ‰ã€Œåˆ‡å‰²ã€æŠŠæŸç‰©åˆ‡æˆè–„ç‰‡ã€çš„æ„æ€ã€‚ç”¨èªæ„åŒ–çš„æ–¹æ³•ä¾†è¨˜æ†¶ï¼Œå°±æ˜¯æŒ‡å°‡æˆ‘å€‘å‚³å…¥çš„é™£åˆ—ã€Œ**åˆ‡ç‰‡å–å‡ºä¾†**ã€ï¼Œ**å›å‚³å€¼ç‚ºä¸€çµ„æ–°çš„é™£åˆ—**ã€‚

èªæ³•ï¼š

```javascript
arr.slice([begin, end])
```

- `begin` åƒæ•¸ï¼šä»£è¡¨è‡ªå“ªå€‹ç´¢å¼•é–‹å§‹ï¼Œè‹¥ä¸å¡«å°±å›é è¨­å¾ index 0 é–‹å§‹ã€‚å¯ä»¥å‚³å…¥è² æ•¸çš„ç´¢å¼•å€¼ï¼Œä¾‹å¦‚ `slice(-2)` å°±ä»£è¡¨å¾é™£åˆ—ä¸­çš„å€’æ•¸ç¬¬äºŒå€‹å…ƒç´ é–‹å§‹æå–ã€‚
- `end` åƒæ•¸ï¼šä»£è¡¨æå–çµæŸçš„ä½ç½®ï¼Œä½†çµæœä¸¦**ä¸æœƒåŒ…å«é€™å€‹ä½ç½®çš„å€¼**ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œ`slice(1, 4)` æå–äº†é™£åˆ—ä¸­ç¬¬äºŒå€‹å…ƒç´ è‡³ç¬¬å››å€‹å…ƒç´ å‰ç‚ºæ­¢ï¼Œä¹Ÿå°±æ˜¯ç´¢å¼• 1ã€2 ä»¥åŠ 3ã€‚å¯ä½¿ç”¨è² æ•¸ç´¢å¼•ã€‚è‹¥çœç•¥äº† end æˆ–å‚³å…¥çš„å€¼å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œå‰‡ slice æœƒæå–è‡³é™£åˆ—çš„æœ€å¾Œä¸€å€‹å…ƒç´ ã€‚

å¯ä½¿ç”¨ `slice` ä¾†é€²è¡Œé™£åˆ—çš„æ·ºæ‹·è²ï¼Œç¤ºç¯„å¦‚ä¸‹ï¼š

```javascript
const arr = [a, b, c, d, e];

// å…©è€…æœƒå¾—åˆ°ä¸€æ¨£çš„çµæœ
console.log(arr.slice());
console.log([...arr]); // å€‹äººåå¥½åšæ³•
```

### â—¾ `splice()`

splice åœ¨è‹±æ–‡è£¡çš„æ„æ€ç‚ºã€Œç²˜æ¥ã€æˆ–ã€Œæ‹¼æ¥ã€ï¼Œå¾å­—é¢ä¸Šçš„æ„æ€ä¾†çœ‹ï¼Œå°±å¯ä»¥æƒ³åƒæ˜¯é‡å°åŸå§‹çš„é™£åˆ—é€²è¡Œæ“ä½œï¼Œå¯ä»¥è—‰ç”±åˆªé™¤æ—¢æœ‰å…ƒç´ ä¸¦ï¼ˆæˆ–ï¼‰åŠ å…¥æ–°å…ƒç´ ä¾†**æ”¹è®Šä¸€å€‹é™£åˆ—çš„å…§å®¹**ã€‚

èªæ³•ï¼š

```javascript
array.splice(start, deleteCount[, item1, item2...])
```

- `start` åƒæ•¸ï¼šä»£è¡¨è‡ªå“ªå€‹ç´¢å¼•é–‹å§‹ï¼ˆèµ·å§‹ç‚º 0ï¼‰ã€‚
- `deleteCcount`ï¼šè¡¨ç¤ºæ¬²åˆªé™¤çš„åŸé™£åˆ—å…ƒç´ æ•¸é‡ã€‚è‹¥çœç•¥æˆ–å‡å¦‚å…¶å€¼å¤§æ–¼å¾ `start` ç®—èµ·çš„å‰©é¤˜å…ƒç´ æ•¸é‡ï¼Œå‰‡æ‰€æœ‰å¾ `start` é–‹å§‹åˆ°é™£åˆ—ä¸­æœ€å¾Œä¸€å€‹å…ƒç´ éƒ½æœƒè¢«åˆªé™¤ã€‚
- `item1, item2...`ï¼šå¾ `start` é–‹å§‹ï¼Œè¦åŠ å…¥åˆ°é™£åˆ—çš„å…ƒç´ ã€‚ å¦‚æœä½ æ²’æœ‰æŒ‡å®šä»»ä½•å…ƒç´ ï¼Œå‰‡åªæœƒä¾ç…§ `start` å’Œ deleteCount åˆªé™¤é™£åˆ—çš„å…ƒç´ ã€‚

#### å›å‚³å€¼

ä¸€å€‹åŒ…å«è¢«åˆªé™¤çš„å…ƒç´ é™£åˆ—ã€‚å¦‚æœåªæœ‰ä¸€å€‹å…ƒç´ è¢«åˆªé™¤ï¼Œä¾èˆŠæ˜¯å›å‚³åŒ…å«ä¸€å€‹å…ƒç´ çš„é™£åˆ—ã€‚ å€˜è‹¥æ²’æœ‰å…ƒç´ è¢«åˆªé™¤ï¼Œå‰‡æœƒå›å‚³ç©ºé™£åˆ—ã€‚

ä½¿ç”¨ç¯„ä¾‹ï¼š

```javascript
// å¾ç´¢å¼• 2 çš„ä½ç½®é–‹å§‹ï¼Œåˆªé™¤ 0 å€‹å…ƒç´ ä¸¦æ’å…¥ã€Œdrumã€

let myFish = ["angel", "clown", "mandarin", "sturgeon"];
let removed = myFish.splice(2, 0, "drum");

console.log(myFish); // ["angel", "clown", "drum", "mandarin", "sturgeon"]
console.log(removed); // []
```

```javascript
// å¾ç´¢å¼• 2 çš„ä½ç½®é–‹å§‹ï¼Œåˆªé™¤ 1 å€‹å…ƒç´ ä¸¦æ’å…¥ã€Œtrumpetã€

let myFish = ["angel", "clown", "drum", "sturgeon"];
let removed = myFish.splice(2, 1, "trumpet");

console.log(myFish); // ["angel", "clown", "trumpet", "sturgeon"]
console.log(removed); // ["drum"]
```

### â—¾ `forEach()`

`forEach()` æœƒå°‡é™£åˆ—ä¸­æ¯å€‹å…ƒç´ å¥—ç”¨åˆ°æŒ‡å®šçš„å‡½å¼è£¡é€²è¡Œé‹ç®—ï¼Œå¯ä»¥å–ä»£ for çš„ç”¨æ³•ï¼Œä½†ä¸æœƒå›å‚³ä»»ä½•æ±è¥¿ï¼Œåªå–®ç´”åŸ·è¡Œæ¯å€‹é™£åˆ—å…§çš„ç‰©ä»¶æˆ–å€¼ã€‚

> ğŸ”— çœ‹å…¶ä»–é™£åˆ—éæ­·çš„æ–¹æ³•è«‹é» [é€™ç¯‡](/docs-javascript/js-array-iteration.md)ã€‚

**å›å‘¼å‡½å¼ä¹‹åƒæ•¸**

- elementï¼šåŸå§‹é™£åˆ—ç•¶å‰æ­£åœ¨è™•ç†ä¸­çš„å…ƒç´ ã€‚

- indexï¼šæ­£åœ¨è™•ç†ä¸­çš„å…ƒç´ ç´¢å¼•ï¼ˆå¯çœç•¥ï¼‰ã€‚

- arrayï¼šåŸå§‹é™£åˆ—ï¼ˆå¯çœç•¥ï¼‰ã€‚

**å›å‚³å€¼** <br>

æ²’æœ‰å›å‚³å€¼ï¼Œçµæœæœƒæ˜¯ `undefined`ã€‚

```javascript
// å–®ç´”éæ­·æ¯å€‹å…ƒç´ ä¸¦å°å‡ºçµæœ
const movements = [200, 3000, -600, 800, -1000];

movements.forEach((movement) => {
  if (movement > 0) {
    console.log(`You deposited ${movement}`);
  } else {
    console.log(`You withdrew ${Math.abs(movement)}`);
  }
});
```

```javascript
// å°‡æ¯å€‹å…ƒç´ ä¹˜ä»¥å…©å€å¾Œå°å‡º
let arr = [1, 3, 5, 11, -2, 8];
arr.forEach((item, index, array) => {
  array[index] = item * 2;
});

console.log("arr: ", arr);
// arr: [2, 6, 10, 22, -4, 16]
```

#### è£œå……ï¼š`Map` è·Ÿ `Set` çš„ forEach æ–¹æ³•

```javascript
function logMapElements(value, key, map) {
  console.log(`m[${key}] = ${value}`);
}

new Map([
  ['foo', 3],
  ['bar', {}],
  ['baz', undefined],
]).forEach(logMapElements);

// Expected output: "m[foo] = 3"
// Expected output: "m[bar] = [object Object]"
// Expected output: "m[baz] = undefined"
```

**åƒå›å‘¼å‡½å¼ä¹‹åƒæ•¸æ•¸** <br>

- `value`ï¼šè¿­ä»£ç‰©ä»¶çš„ value å€¼

- `key`ï¼šè¿­ä»£ç‰©ä»¶çš„ key å€¼ï¼Œé‹ç”¨åœ¨ `Set` æ™‚æœƒæ°¸é è·Ÿ `value` åƒæ•¸ç›¸åŒ

- `map` / `set`ï¼šè©²æ¬¡è¿­ä»£çš„ç‰©ä»¶ä¸»é«”

### â—¾ `map()`

`map()` æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹æ–°çš„é™£åˆ—ï¼Œå®ƒæœƒå°‡ array ä¸­<span class="bolder">æ‰€æœ‰çš„å€¼éƒ½ç¶“éè™•ç†</span>ï¼Œæœ‰ã€Œselectã€ã€ã€Œé‡çµ„ã€çš„æ¦‚å¿µã€‚ <br>

**å›å‘¼å‡½å¼ä¹‹åƒæ•¸**

- valueï¼šåŸé™£åˆ—ç›®å‰æ‰€è¿­ä»£è™•ç†ä¸­çš„å…ƒç´ ã€‚

- indexï¼šæ­£åœ¨è™•ç†ä¸­çš„å…ƒç´ ç´¢å¼•ï¼ˆå¯çœç•¥ï¼‰ã€‚

- arrayï¼šåŸé™£åˆ—ï¼ˆå¯çœç•¥ï¼‰ã€‚

**å›å‚³å€¼** <br>

å›å‚³ä¸€çµ„æ–°çš„é™£åˆ—ï¼Œä¸”æ–°é™£åˆ—çš„å…§å®¹ç‚ºåŸé™£åˆ—çš„æ¯ä¸€å€‹å…ƒç´ ç¶“ç”±å›å‘¼å‡½å¼é‹ç®—å¾Œæ‰€å›å‚³çš„çµæœä¹‹é›†åˆã€‚

```javascript
let arr = [1, 2, 3];
let newArr = arr.map(function (val, idx, array) {
  return val * 2; //  å»ºç«‹ä¸€å€‹æ–°çš„é™£åˆ—ï¼Œä¸¦å°‡ 1, 2, 3 åˆ†åˆ¥ä¹˜ 2 å¾Œä¾åºå‚³å…¥åˆ°é™£åˆ—ç•¶ä¸­
});

console.log(arr); // [1, 2, 3]
console.log(newArr); // [2, 4, 6]
```

```javascript
// ç”¨ä¸åˆ° idx è·Ÿ array åƒæ•¸å› æ­¤çœç•¥ï¼Œä¸¦ä½¿ç”¨ç®­é ­å‡½å¼çš„å¯«æ³•
let newArr = arr.map((val) => val * 2);
```

`map()` é©åˆç”¨åœ¨éœ€è¦æ”¹å‹•è³‡æ–™ï¼Œä½†åˆä¸æƒ³è®Šæ›´åŸå§‹é™£åˆ—æ™‚ã€‚å¦‚æœä¸æƒ³å»ºç«‹æ–°çš„é™£åˆ—ï¼Œå°±å¯ä»¥æ¡ç”¨ `forEach` æ–¹æ³•ã€‚

> [!NOTE] å‚™è¨»ï¼š
> å¦‚æœæœ‰åœ¨å¯« React çš„è©±ï¼Œå› ç‚º React æ²’æœ‰åƒ Vue ä¸€æ¨£çš„ `v-for` èªæ³•ç³–ï¼Œå› æ­¤åœ¨éœ€è¦é¡¯ç¤ºæŸå€‹ array çš„è³‡æ–™æ™‚ï¼Œå¹¾ä¹éƒ½æœƒä½¿ç”¨ `map` è™•ç†ã€‚

### â—¾ `filter()`

`filter()` æ–¹æ³•ä¾æ“šå­—é¢ä¸Šçš„æ„æ€ï¼Œå¯ä»¥å¹«åŠ©æˆ‘å€‘ã€Œç¯©é¸ã€éæ¿¾ã€é™£åˆ—ä¸­çš„å…ƒç´ ï¼Œå°**ç¬¦åˆçµ¦å®šæ¢ä»¶**çš„ä¸€éƒ¨ä»½é™£åˆ—é€²è¡Œæ·ºæ‹·è²ï¼ˆShallow Copyï¼‰ï¼Œä¸¦ `return` ä¸€çµ„æ–°çš„é™£åˆ—ã€‚

```javascript
const nums = [89, 32, 104, 46, 249, 71, 515];

const numsBiggerThan100 = nums.filter(num => num > 100);

console.log(numsBiggerThan100);
// [104, 249, 515]
```

é©ç”¨å ´æ™¯ï¼šä¹Ÿå¯ä»¥ç”¨æ–¼é—œéµå­—æœå°‹ï¼Œå¹«åŠ©æˆ‘å€‘ç¯©é¸å‡ºç¬¦åˆæŒ‡å®šæ¢ä»¶çš„å…ƒç´ ã€‚

```javascript
const fruits = [
  { name: 'apple', quantity: 0 }, 
  { name: 'orange', quantity: 1 }, 
  { name: 'watermelon', quantity: 2 },
  { name: 'grape', quantity: 3 }
]

const fruitsWithG = fruits.filter(fruit => fruit.name.toLowerCase().includes('g'))
console.log(fruitsWithG); // åªæœƒå°å‡º orange è·Ÿ grape çš„ç‰©ä»¶
```

## å…¶ä»–è£œå……æ–¹æ³•

### â—¾ `reverse()`

`reverse()` æ–¹æ³•ç”¨ä¾†å°‡é™£åˆ—å€’è½‰ï¼Œå°‡ç¬¬ä¸€å€‹å…ƒç´ æ›åˆ°æœ€å¾Œä¸€å€‹ï¼Œæœ€å¾Œä¸€å€‹å…ƒç´ æ›åˆ°ç¬¬ä¸€å€‹ï¼Œä¾æ­¤é¡æ¨ã€‚

èªæ³•ï¼š

```javascript
arr.reverse()
```

`reverse()` æ–¹æ³•æœƒè¿”å›å€’è½‰å¾Œçš„é™£åˆ—ï¼ˆæœƒæ”¹è®ŠåŸå§‹é™£åˆ—ï¼‰ã€‚

```javascript
let arr = ['one', 'two', 'three'];
let reversed = arr.reverse(); 

console.log(arr); // ["three", "two", "one"]
// å€’è½‰æ˜¯ in place çš„æ“ä½œï¼Œè¿”å›åŒä¸€å€‹é™£åˆ—
```

### â—¾ `concat()`

å°‡å…©å€‹æˆ–å¤šå€‹é™£åˆ—çµåˆèµ·ä¾†ã€‚æ­¤æ–¹æ³•ä¸æœƒæ”¹è®ŠåŸæœ¬çš„é™£åˆ—ï¼Œè€Œæ˜¯æœƒ**å›å‚³ä¸€å€‹æ–°çš„é™£åˆ—**ã€‚

```javascript
const array1 = ['a', 'b', 'c'];
const array2 = ['d', 'e', 'f'];
const array3 = array1.concat(array2);

console.log(array3);
// ["a", "b", "c", "d", "e", "f"]
```

#### `concat()` æ–¹æ³•èˆ‡å±•é–‹é‹ç®—å­çš„æ¯”è¼ƒ

ç”¨å±•é–‹é‹ç®—å­ï¼ˆ...ï¼‰åŒæ¨£å¯ä»¥å°‡å…©å€‹æˆ–å¤šå€‹é™£åˆ—çµåˆèµ·ä¾†ï¼Œé‚£éº¼é€™å…©ç¨®ä½œæ³•æœ‰å“ªäº›å·®ç•°å‘¢ï¼Ÿ

å±•é–‹é‹ç®—å­èªæ³•ï¼š

```javascript
const newArrayName = [...arr1, ...arr2];
// å±•é–‹é‹ç®—å­åŒæ¨£æœƒå›å‚³ä¸€çµ„æ–°çš„é™£åˆ—
```

> ğŸ”— æƒ³çœ‹æ›´å¤šé—œæ–¼ Spread Operatorï¼ˆå±•é–‹é‹ç®—å­ï¼‰çš„ä»‹ç´¹ï¼Œè«‹èµ°[é€™é‚Š](/docs-javascript/spread-operator.md)ã€‚

ç›¸ç•°ä¹‹è™•ï¼š

1. å±•é–‹é‹ç®—å­å¯ç”¨æ–¼é™£åˆ—æˆ–ç‰©ä»¶ï¼Œ`concat()` æ–¹æ³•å‰‡åªèƒ½ç”¨åœ¨é™£åˆ—ä¸Šï¼ˆæˆ–å¦ä¸€ç¨® `Symbol.isConcatSpreadable` è¢«è¨­ç½®ç‚º true çš„æƒ…æ³ï¼‰ã€‚
2. `concat()` æ–¹æ³•å¯ä»¥åŒæ™‚çµåˆå…¶ä»–çš„é™£åˆ—æ–¹æ³•ä½¿ç”¨ï¼ˆcan be used in a chain of methodsï¼‰ã€‚
3. `concat()` æ–¹æ³•å¯ä»¥å°‡é™£åˆ—èˆ‡å–®ä¸€å€¼ï¼ˆvalueï¼‰çµåˆèµ·ä¾†ã€‚

```javascript
// å–®ä¸€å€¼ç¯„ä¾‹

const letters = ["a", "b", "c"];
const alphaNumeric = letters.concat(1, [2, 3]);

console.log(alphaNumeric); // ['a', 'b', 'c', 1, 2, 3]
```

### â—¾ `at()`

å° `at()` æ–¹æ³•å‚³å…¥ä¸€å€‹æ•´æ•¸ï¼ˆæ­£æ•¸æˆ–è² æ•¸çš†å¯ï¼‰ï¼Œå‰‡æœƒå›å‚³ä¸€å€‹è©²ç´¢å¼•å€¼å°æ‡‰çš„å…ƒç´ ã€‚

ä»¥ä¸‹ç¯„ä¾‹ï¼š

```javascript
const arr = ["apple", "banana", "watermelon"];

console.log(arr.at(0)); // "apple"
console.log(arr.at(-1)); // "watermelon"
```

#### å›å‚³å€¼

è¿”å›é™£åˆ—ä¸­èˆ‡çµ¦å®šçš„ç´¢å¼•å€¼åŒ¹é…çš„å…ƒç´ ã€‚å¦‚æœ `index < -array.length` æˆ– `index >= array.length`ï¼Œå‰‡æœƒè¿”å› `undefined`ã€‚ <br>

é›–ç„¶å‰é¢æœ‰æéå…¶ä»–å¯ä»¥è¿”å›ç´¢å¼•å€¼å…ƒç´ çš„ä½œæ³•ï¼Œä¾‹å¦‚åˆ©ç”¨ `arr.[index]` ä¾†å¯¦ç¾ï¼Œä½†ä»Šå¤©å¦‚æœæˆ‘å€‘ä¸çŸ¥é“ç›®æ¨™é™£åˆ—çš„é•·åº¦ï¼Œå»åˆæƒ³å–å¾—å…¶æœ€å¾Œä¸€å€‹ä½ç½®çš„å€¼ï¼Œ`at()` æ–¹æ³•çš„å‘ˆç¾æ–¹å¼å°±é¡¯å¾—ç°¡æ½”ä¸”æ˜“è®€ã€‚

```javascript
const arr = ["apple", "banana", "watermelon", "orange", "pear"];

// æ–¹æ³•ä¸€
console.log(arr[arr.length - 1]);

// æ–¹æ³•äºŒ
console.log(arr.slice(-1)[0]);

// æ–¹æ³•ä¸‰
console.log(arr.at(-1));
```

::: details ğŸ”‘ è€å¸«å®åš€
ä½¿ç”¨æƒ…å¢ƒï¼š<br>
å¦‚æœæ˜¯æƒ³å¾é™£åˆ—çš„**æœ€å¾Œé¢**é–‹å§‹å–å¾—å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ `at()` æ–¹æ³•æœƒæ¯”è¼ƒç›´è¦ºï¼Œæˆ–æ˜¯æƒ³ä½¿ç”¨ã€ŒMethod Chainingã€çš„æ™‚å€™ï¼Œç”¨ `at()` ä¹Ÿæ˜¯ä¸€å€‹å¥½æ–¹æ³•ï¼›è€Œå¦‚æœåªæ˜¯æƒ³å¿«é€Ÿå–å¾—é™£åˆ—ä¸­çš„æŸå€‹å…ƒç´ æ™‚ï¼Œå‰‡å¯ä»¥ç¹¼çºŒä½¿ç”¨ `[]` ã€‚
:::

> [!NOTE] å‚™è¨»ï¼š
> `at()` æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨åœ¨å­—ä¸²ä¸Šï¼Œä¾‹å¦‚ï¼š
> ``` javascript
> const str = "Hello World";
> console.log(str.at(0)); // "H"
> ```

---

Referenceï¼š

> [JavaScript | ä½ å¸¸ç”¨çš„ Array Methods æ˜¯æˆ‘å¸¸ç”¨çš„å—ï¼Ÿ - Medium](https://medium.com/starbugs/javascript-%E4%BD%A0%E5%B8%B8%E7%94%A8%E7%9A%84-array-methods-%E6%98%AF%E6%88%91%E5%B8%B8%E7%94%A8%E7%9A%84%E5%97%8E-6fe235953951)
